<?php/**Базовый класс сайта*/abstract class C_Base extends C_Controller{	protected $modelUsers;	protected $title;        // заголовок страницы	protected $needLogin;	 // необходима ли авторизация	protected $authorization;// состояние авторизации	protected $user;         // авторизованный пользователь	protected $idUser;       // id пользователя	protected $trueAdmin;    // авторизованный пользователь - это администратор	protected $dataTemplate; // массив шаблонов: [0]-имя файла, [1..n]-параметры							 // [[],[],...,[]]	function __construct()	{		$this->needLogin = false;		$this->modelUsers = M_Users::getInstance();		$this->updateVarFromSESSION();	}	/**Функция отрабатывающая до основного метода*/	protected function before()	{		$this->title = 'Visit card :: ';		if($this->needLogin && empty($this->authorization)  ){			$this->redirect('/auth/login');		}	}	/**Генерация базового шаблона*/	public function render()	{		$page = "";		foreach ($this->dataTemplate as $values) {			$templateFile = array_shift($values);			$page .= $this->Template($templateFile, $values);		}		echo $page;	}	/**Обновление необходимых переменных в сесии*/	protected function updateVarFromSESSION()	{		$this->authorization = !empty($_SESSION["authorization"])			? $_SESSION["authorization"]			: null;		$this->user = !empty($_SESSION["user"])			? $_SESSION["user"]			: null;		$this->idUser = !empty($_SESSION["idUser"])			? $_SESSION["idUser"]			: null;		$this->trueAdmin = !empty($_SESSION["trueAdmin"])			? $_SESSION["trueAdmin"]			: null;	}}